<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Coupling to Dynamics" href="coupling.html" /><link rel="prev" title="Memory Layout" href="memorylayout.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2024.01.29 -->
        <title>Monoids - CLEO 4.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=362ab14a" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">CLEO 4.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">CLEO 4.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="intro.html">Programming Guide</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Programming Guide</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="background.html">Background to the Super-Droplet Model (SDM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="motivation.html">Motivation for CLEO</a></li>
<li class="toctree-l2"><a class="reference internal" href="memorylayout.html">Memory Layout</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Monoids</a></li>
<li class="toctree-l2"><a class="reference internal" href="coupling.html">Coupling to Dynamics</a></li>
<li class="toctree-l2"><a class="reference internal" href="timestepping.html">Timestepping</a></li>
<li class="toctree-l2"><a class="reference internal" href="kokkos.html">Kokkos Thread Parallelism</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../usage/requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/quickstart.html">Quickstart</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../pySD/pySD.html">API: PySD</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of API: PySD</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../pySD/gbxboundariesbinary_src/gbxboundariesbinary_src.html">GbxBoundariesBinary</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of GbxBoundariesBinary</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../pySD/gbxboundariesbinary_src/create_gbxboundaries.html">CREATE_GBXBOUNDARIES</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pySD/gbxboundariesbinary_src/read_gbxboundaries.html">READ_GBXBOUNDARIES</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../pySD/initsuperdropsbinary_src/initsuperdropsbinary_src.html">InitSuperdropsBinary</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of InitSuperdropsBinary</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../pySD/initsuperdropsbinary_src/create_initsuperdrops.html">CREATE_INITSUPERDROPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pySD/initsuperdropsbinary_src/read_initsuperdrops.html">READ_INITSUPERDROPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pySD/initsuperdropsbinary_src/attrsgen.html">ATTRSGEN</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pySD/initsuperdropsbinary_src/crdgens.html">CRDGENS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pySD/initsuperdropsbinary_src/probdists.html">PROBDISTS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pySD/initsuperdropsbinary_src/rgens.html">RGENS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pySD/initsuperdropsbinary_src/dryrgens.html">DRYRGENS</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../pySD/thermobinary_src/thermobinary_src.html">ThermoBinary</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of ThermoBinary</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../pySD/thermobinary_src/create_thermodynamics.html">CREATE_THERMODYNAMICS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pySD/thermobinary_src/read_thermodynamics.html">READ_THERMODYNAMICS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pySD/thermobinary_src/thermogen.html">THERMOGEN</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../pySD/sdmout_src/sdmout_src.html">SDMOut</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of SDMOut</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../pySD/sdmout_src/pyzarr.html">PYZARR</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pySD/sdmout_src/pysetuptxt.html">PYSETUPTXT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pySD/sdmout_src/pygbxsdat.html">PYGBXSDAT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pySD/sdmout_src/timedata.html">TIMEDATA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pySD/sdmout_src/thermodata.html">THERMODATA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pySD/sdmout_src/supersdata.html">SUPERSDATA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pySD/sdmout_src/sdtracing.html">SDTRACING</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pySD/sdmout_src/massmoms.html">MASSMOMS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pySD/sdmout_src/thermoeqns.html">THERMOEQNS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pySD/sdmout_src/ensembzarr.html">ENSEMBZARR</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../pySD/cxx2py.html">CXX2PY</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pySD/editconfigfile.html">EDITCONFIGFILE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pySD/readbinary.html">READBINARY</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pySD/writebinary.html">WRITEBINARY</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../cxx/cxx.html">API: C++ Library</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of API: C++ Library</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../cxx/runcleo/runcleomod.html">RunCLEO Module</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of RunCLEO Module</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../cxx/runcleo/coupleddynamics.html">CoupledDynamics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/runcleo/couplingcomms.html">CouplingComms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/runcleo/creategbxs.html">Create Gridboxes Sub-Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/runcleo/createsupers.html">Create Super-droplets Sub-Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/runcleo/initialconditions.html">InitialConditions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/runcleo/runcleo.html">RunCLEO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/runcleo/sdmmethods.html">SDMMethods</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../cxx/superdrops/superdropsmod.html">Superdrops Module</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Superdrops Module</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../cxx/superdrops/condensation.html">Condensation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/superdrops/microphysical_process.html">Microphysical Process</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/superdrops/state.html">State</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/superdrops/superdrop.html">Superdrop</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/superdrops/superdrop_ids.html">Superdrop IDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/superdrops/superdrop_attrs.html">Superdrop Attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/superdrops/terminalvelocity.html">Terminal Velocities</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/superdrops/thermodynamic_equations.html">Thermodynamic Equations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/superdrops/urbg.html">Randomness Generation</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../cxx/zarr/zarrmod.html">Zarr Module</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of Zarr Module</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../cxx/zarr/buffer.html">Buffer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/zarr/chunks.html">Chunks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/zarr/dataset.html">Dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/zarr/fsstore.html">FSStore</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/zarr/store_accessor.html">StoreAccessor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/zarr/xarray_zarr_array.html">XarrayZarrArray</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/zarr/zarr_array.html">ZarrArray</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/zarr/zarr_group.html">ZarrGroup</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../cxx/observers/observersmod.html">Observers Module</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Observers Module</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../cxx/observers/observers.html">Observers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/observers/streamout_observer.html">StreamOut Observer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/observers/runstats_observer.html">RunStatsObserver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/observers/write_to_dataset_observer.html">Template for Observer to Write To Dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/observers/parallel_write_data.html">Parallel Write Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/observers/collect_data_for_dataset.html">Collect Data For Dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/observers/generic_collect_data.html">Generic Collect Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/observers/time_observer.html">Time Observer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/observers/gbxindex_observer.html">Gbxindex Observer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/observers/superdrops_observer.html">Superdrops Observer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/observers/nsupers_observer.html">Nsupers Observer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/observers/totnsupers_observer.html">TotNsupers Observer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/observers/state_observer.html">State Observer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/observers/thermo_observer.html">Thermodynamics Observer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/observers/windvel_observer.html">WindVel Observer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/observers/massmoments_observer.html">Massmoments Observer</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../usage/contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/ourdocs.html">Our Docs</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/yoctoyotta1024/CLEO.git">GitHub Repo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/contact.html">Contact Us!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="monoids">
<h1>Monoids<a class="headerlink" href="#monoids" title="Link to this heading">#</a></h1>
<section id="concepts-for-templated-types">
<h2>Concepts for Templated-Types<a class="headerlink" href="#concepts-for-templated-types" title="Link to this heading">#</a></h2>
<p>C++ concepts are used abundantly in CLEO. At its simplest, a C++ concept is used to define a set
of constraints on a template. If a certain type satisfies these constraints, it can be called one
possible type of that concept. For example, if a class “Cond” is created to model condensation and
it satisfies the concept of a microphysical process, then “Cond” is a microphysical process.
Likewise another class ‘Colls’ which models collisions is also a microphysical process if it too
satisfies the concept of a microphysical process.</p>
</section>
<section id="the-use-of-concepts-to-create-monoids">
<h2>The Use of Concepts to Create Monoids<a class="headerlink" href="#the-use-of-concepts-to-create-monoids" title="Link to this heading">#</a></h2>
<p>In essence, a monoid is a complete set of members (i.e. elements/types) where each member of the set
has three essential properties:</p>
<ol class="arabic simple">
<li><p>it can be created.</p></li>
</ol>
<p>2. it can be combined with another member of the monoid set to produce another member of that
monoid set (i.e. monoid member + monoid member = monoid member).</p>
<ol class="arabic simple" start="3">
<li><p>it can be null (a member which does nothing).</p></li>
</ol>
<p>As suggested by point (2), there are various different monoids which differ from one another through
their specific definition of these three properties. For example a monoid used to define
“milkshakes” is different to the monoid that defines “melted chocolate” because what it means for (a
member of) the milkshakes to (1)”be created”, (2)”be combined” and (3)”be nothing” is not the same
as what it means for (a member of) the melted chocolate.</p>
<p>In CLEO, we make monoids for various different things such as microphysics and observers. We use C++
concepts to ensure only certain types can declare themselves as a member of a particular monoid
(rule(1)); we use some function or structure to define how types which are members of a particular
monoid get combined with one another to produce another member (rule(2)); and we create a null
member of each monoid by making a structure which satisfies the C++ concepts for that monoid but
which does nothing (rule(3)).</p>
<p>We then use our monoids to ensure a templated type does certain things (e.g. microphysics or
observing) and can be combined with other types that also do those things. In this way, we can
create a type, satisfying a given concept, from the combination of several types which also
satisfy that concept and we can use it throughout the code by instantiaing a template
upon compilation. For example, a microphysical process of type ‘CC’ could be created from the
combination of the ‘Cond’ and ‘Colls’ types which are microphysical processes themselves.
Upon compilation, a templated type ‘Z’ can then be instantiated with ‘CC’, or ‘Cond’, or ‘Colls’
(or any other member of the microphysics monoid) depending on what we want to model.</p>
</section>
<section id="a-good-analogy">
<h2>A Good Analogy<a class="headerlink" href="#a-good-analogy" title="Link to this heading">#</a></h2>
<p>The analogy I like to give is mixing paint. Suppose there are a variety of colours;
blue, yellow, red, green, orange etc.. Let’s say that the blue, yellow and red colours
satisfy all the requirements in order for them to be defined as ‘wet oil paint’ - in other
words, these three colours are wet oil paint.</p>
<p>Meanwhile let’s say all the other colours are crayons. The wet oil paints can be mixed in any
combination to create a new wet oil paint - maybe it’s brown, maybe it’s violet, maybe it’s
something we’ve never seen before, nevertheless it’s certainly wet oil paint. Now of course the red
wet oil paint cannot be mixed with the green crayon to make a new wet oil paint, because clearly
the crayon is not a wet oil paint.</p>
<p>To make the analogy explicit, the requirements used to define wet oil paint and a crayon
are like the C++ concepts used to define a microphysical process or an observer. The
colors are analogous to types satisfying a particular concept, for example ‘Cond’ and
‘Colls’ satisfying the microphysical process. The wet oil paints (and likewise microphysical
processes) not only satisfy a concept but also are monoids. They therefore have a specified rule
(function) which allows them to be combined to create new wet oil paints, analogous to
creating the microphysical process‘CC’ from ‘Cond’ and ‘Colls’. (The null property of a monoid
would be like transparent wet oil paint - it can be used like all wet oil paints, but it
doesn’t do anything.)</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="coupling.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Coupling to Dynamics</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="memorylayout.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Memory Layout</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; (2023) MPI-M, Clara Bayley
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on 11 April 2024</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Monoids</a><ul>
<li><a class="reference internal" href="#concepts-for-templated-types">Concepts for Templated-Types</a></li>
<li><a class="reference internal" href="#the-use-of-concepts-to-create-monoids">The Use of Concepts to Create Monoids</a></li>
<li><a class="reference internal" href="#a-good-analogy">A Good Analogy</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=9f5556dd"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    </body>
</html>